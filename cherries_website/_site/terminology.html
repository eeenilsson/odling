<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Körsbär - Terminologi</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Körsbär</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Hem</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./choosing_variety.html" rel="" target="">
 <span class="menu-text">Sorter</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./tables_comparison.html" rel="" target="">
 <span class="menu-text">Jämförelse</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./pollination_about.html" rel="" target="">
 <span class="menu-text">Pollination</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blooming.html" rel="" target="">
 <span class="menu-text">Blomning</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./pollination_table.html" rel="" target="">
 <span class="menu-text">Pollinationsschema</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./cultivation.html" rel="" target="">
 <span class="menu-text">Odling</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./recepies.html" rel="" target="">
 <span class="menu-text">Recept</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./terminology.html" rel="" target="" aria-current="page">
 <span class="menu-text">Terminologi</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./resources.html" rel="" target="">
 <span class="menu-text">Resurser</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#taxonomi" id="toc-taxonomi" class="nav-link active" data-scroll-target="#taxonomi">Taxonomi</a></li>
  <li><a href="#benämningar-av-olika-typer-av-körsbär" id="toc-benämningar-av-olika-typer-av-körsbär" class="nav-link" data-scroll-target="#benämningar-av-olika-typer-av-körsbär">Benämningar av olika typer av körsbär</a>
  <ul class="collapse">
  <li><a href="#i-tyskland" id="toc-i-tyskland" class="nav-link" data-scroll-target="#i-tyskland">I Tyskland</a></li>
  </ul></li>
  <li><a href="#pollination-och-befruktning" id="toc-pollination-och-befruktning" class="nav-link" data-scroll-target="#pollination-och-befruktning">Pollination och befruktning</a></li>
  <li><a href="#kvalitetsmärkning-e-planta" id="toc-kvalitetsmärkning-e-planta" class="nav-link" data-scroll-target="#kvalitetsmärkning-e-planta">Kvalitetsmärkning “E-planta”</a></li>
  <li><a href="#the-bbch-scale-is-used-to-identify-the-phenological-development-stages-of-plants" id="toc-the-bbch-scale-is-used-to-identify-the-phenological-development-stages-of-plants" class="nav-link" data-scroll-target="#the-bbch-scale-is-used-to-identify-the-phenological-development-stages-of-plants">The BBCH-scale is used to identify the phenological development stages of plants</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Terminologi</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="taxonomi" class="level2">
<h2 class="anchored" data-anchor-id="taxonomi">Taxonomi</h2>
<p>Genus (släkte): <em>Prunus</em> (plommon, körsbär, aprikoser mfl)</p>
<p>Subgenus (undersläkte): <em>Prunus subg. Cerasus</em> (körsbär)</p>
<p>Species (art): <em>Prunus cerasus</em> (surkörsbär) och <em>Prunus avium</em> (sötkörsbär)</p>
<p>Subspecies (underart): Tex <em>Prunus avium subsp. avium</em></p>
<p>Varietas (variant): Tex <em>Prunus avium var. juliana</em> (Hjärtkörsbär), <em>Prunus avium var. avium</em> (Vanlig sötkörsbär), <em>Prunus avium var. duracina</em> (Bigarrå).</p>
<p>“Sort”: Tex <em>Prunus avium</em> ‘Merton Glory’. Kallas ibland “kultivar” när den framkorsats medvetet.</p>
<p>Släktnamnet skrivs med stor bokstav och artnamnet med liten.</p>
<p>Korsningar mellan två arter markeras med ett “x” mellan släktnamnet och artnamnet.</p>
<p><a href="https://species.wikimedia.org/wiki/Prunus_avium_subsp._avium">Exempel</a></p>
<!-- Om en växt är en korsning mellan två arter, markeras detta med ett x mellan släkt- och artnamnet, ex. Geranium x magnificum (=G. ibericum x G. platypetalum).  -->
<p><strong>Förkortningar:</strong></p>
<p>subg. = subgenus</p>
<p>sp. = species</p>
<p>subs. = ssp. = subspecies</p>
<p>var. = v. = varietas (= f.&nbsp;[form]?)</p>
<p>syn. = synonymt med</p>
<!-- Genus: Prunus -->
<!-- Subgenus: P. subg. Cerasus -->
<!-- Species: Prunus avium -->
<!-- Subspecies: Prunus avium subsp. avium -->
<!-- Arten kan delas in i ett antal varieteter.  -->
<!--     Vanlig sötkörsbär (Prunus avium var. avium) – har små frukter, upp till 1 cm stora. Färgen på frukterna varierar från gult till rött eller svart. De har ofta en bitter smak.[källa behövs] -->
<!--     Bigarrå (Prunus avium var. duracina) – har stora frukter med fast fruktkött. De mognar ofta sent på säsongen. Det finns många sorter som hör till denna varietet. Även så kallade halvbigarråer är klassificerade som denna varietet. -->
<!--     Hjärtkörsbär (Prunus avium var. juliana) – har stora frukter med löst fruktkött. Sorter som 'Guigne d'Annonay', 'Elton', 'Frogmore Early', 'Knauff's Riesenkirsche', 'Merton Glory' och 'Valeska' räknas till hjärtkörsbäret. -->
<!-- Prunus avium L. syn. Cerasus avium Moench. -->
<!-- Påpekas skall att sp. används för en obestämd art. Om man t.ex. skriver Geranium sp. så menar man en art av släktet Geranium men man vill eller kan inte bestämma växten till art utan endast till släkte.  -->
<!-- Odlade växter har ofta registrerade namnsorter, dessa skrives med stor bokstav inom enkla apostrofer, ex. Geranium pratense 'Kashmir White'. Man kan också i vardagsbruk skriva enbart Geranium 'Kashmir White'.  -->
<!-- Om en växt är en korsning mellan två arter, markeras detta med ett x mellan släkt- och artnamnet, ex. Geranium x magnificum (=G. ibericum x G. platypetalum).  -->
<!-- Alternativa namn markeras med synonym, syn. (ex. Geranium lambertii syn. G. candicans).  -->
<!-- https://www.odla.nu/inspiration/lite-grundlaggande-botanik -->
</section>
<section id="benämningar-av-olika-typer-av-körsbär" class="level2">
<h2 class="anchored" data-anchor-id="benämningar-av-olika-typer-av-körsbär">Benämningar av olika typer av körsbär</h2>
<p><em>Bigarrå</em>: Benämndes tidigare taxonomiskt <em>Prunus avium var. duracina</em>, kom senare att avse sorter med viss typ av fruktkött (fast), men numera menas oftast bara sötkörsbär.</p>
<p><em>Hjärtkörsbär</em>, Benämndes tidigare taxonomiskt <em>Prunus avium var. avium</em>. Avser numera vanligen endast att bären är hjärtformade.</p>
<p><em>Morell</em>: Surkörsbär med mörkröd färg och färgad saft (<em>Prunus cerasus var. austera</em>). Även “brunbär”.</p>
<p><em>Amarell</em>: Surkörsbär med ljusare färg och ofärgad saft (<em>Prunus cerasus var. cerasus</em>). Även “klarbär”.</p>
<section id="i-tyskland" class="level3">
<h3 class="anchored" data-anchor-id="i-tyskland">I Tyskland</h3>
<p><em>Wilde Vogelkirsche</em>: Även “Waldkirsche” (<em>Prunus avium var. avium</em>), dvs vilda sötkörsbär. Små blad, svarta, saftiga, små frukter (&lt; 1 cm), med sötsyrlig smak.</p>
<p><em>Knorpelkirsche</em>: I Tyskland benämns vissa körsbär “Knorpelkirsche” (<em>Prunus avium var. duracina</em>). Dessa har vanligan mycket stora blad, stora (&gt; 1 cm) svartröda frukter med gult eller rött fruktkött som är “broskigt” (“knorpelig”) och fast. Även lokalt benämnda som “Krachkirsche”, “Knubber” eller “Knupper”.</p>
<p><em>Herzkirsche</em>: Även “Weichkirsche” (<em>Prunus avium var. juliana</em>). Har större blad än de vilda sötkörsbären. Oftast stora (&gt; 1 cm) svartröda, gula, eller vita frukter med mjukt, saftigt, och rött eller mörkrött fruktkött.</p>
</section>
</section>
<section id="pollination-och-befruktning" class="level2">
<h2 class="anchored" data-anchor-id="pollination-och-befruktning">Pollination och befruktning</h2>
<p>Terminoligin är rörig och olika definitioner förekommer (tex anses ibland självpollination uteslutande betyda att pollen kommer från samma blomma).</p>
<p><em>Självpollination (autogami)</em>: Pollen kommer från vilken blomma som helst på samma individ. Innebär att det blir mindre genetisk variation vid befruktningen.</p>
<!-- Synonymer: Autogami, självbefruktning, eng. self-pollination, self-fertilization, "selfer". -->
<p><em>Korspollination (allogami)</em>: Pollen överförs mellan två olika individer.</p>
<!-- Synonymer: Allogami, korsbefruktning , eng. cross-pollination, cross-fertilization, "outcrosser", "outbreeder". -->
<p><strong>I praktiken</strong> brukar man i vardagligt tal används begreppen litet annorlunda:</p>
<p>“Korspollination”: En viss sort (<em>Prunus avium</em> ‘Merton Glory’) måste pollineras av en annan sort (tex <em>Prunus avium</em> ‘Allmän gulröd bigarrå’) för att bära frukt. Dessa sorter kallas ibland “självsterila”.</p>
<p>“Självfertila sorter”: En sort som kan pollineras av samma sort (tex <em>Prunus avium</em> ‘Gårdebo’).</p>
<!--  korspollination, detsamma som allogami. se https://www.ne.se/uppslagsverk/encyklopedi/l%C3%A5ng/korspollination -->
<!-- Pollinationsförloppen kan delas in på olika sätt, bl.a. i självpollination och korspollination. Självpollination (autogami), som förekommer t.ex. hos många korsblommiga växter, innebär att växten pollinerar sig själv, https://www.ne.se/uppslagsverk/encyklopedi/l%C3%A5ng/pollination -->
<!-- https://en.wikipedia.org/wiki/Allogamy -->
<!-- _Xenogami_ : En undergrupp till allogami.  -->
<!-- korsbefruktning: korsbefruktning, befruktningsförlopp då könsceller från två genetiskt olika individer smälter samman (se https://www.ne.se/uppslagsverk/encyklopedi/l%C3%A5ng/korsbefruktning)-->
<!-- A flower is self-pollinated (a “selfer”) if pollen is transferred to it from any flower of the same plant and cross-pollinated (an “outcrosser” or “outbreeder”) if the pollen comes from a flower on a different plant. (se https://www.britannica.com/science/self-pollination) -->
<!-- Allogamy vs Xenogamy There are two types of pollinations known as self pollination and cross pollination. Allogamy and xenogamy are the two types of cross pollinations that occur during the sexual reproduction of higher plants. Flower is the sexual organ of angiosperms. Stamen is the male part of the flower, which contains anther and filamentous. Pistil is the female part of the flower, which contains stigma, style, and ovary. Unisexual flowers contain pistil and the stamens in separate flowers, enhancing cross pollination. Bisexual flowers contain both pistil and stamens in the same flower, enhancing self pollination. The main difference between allogamy and xenogamy is that allogamy is the deposition of pollen grains from the anther of the one flower on the stigma of another flower, either in the same plant or a in a different plant of the same species whereas xenogamy is the deposition of pollen grains from the anther of one flower on the stigma of a genetically different flower of the same species. -->
<!-- Även om en växt är självfertil, eller självpollinerande, blir bäret eller frukten större och av högre kvalitet med korspollination. -->
<!-- Autogamy, or self-fertilization, refers to the fusion of two gametes that come from one individual. Autogamy is predominantly observed in the form of self-pollination -->
<!-- Korsbefruktning innebär att man korsar olika plantor för att få fram en växt med de egenskaper man önskar.  -->
<!-- Allogamy or cross-fertilization is the fertilization of an ovum from one individual with the spermatozoa of another. -->
<!-- In plants, allogamy is used specifically to mean the use of pollen from one plant to fertilize the flower of another plant and usually synonymous with the term "cross-fertilization" or "cross-pollination" (outcrossing).[4] The latter term can be used more specifically to mean pollen exchange between different plant strains or even different plant species (where the term cross-hybridization can be used) rather than simply between different individuals.[6] -->
<!-- [Blekinge plantskola](https://organicfruittrees.eu/products/lapins-korsbar?variant=40116019462281) -->
</section>
<section id="kvalitetsmärkning-e-planta" class="level2">
<h2 class="anchored" data-anchor-id="kvalitetsmärkning-e-planta">Kvalitetsmärkning “E-planta”</h2>
<p>Plantor med denna kvalitetsmärkning märks i handeln med “E” efter det vetenskapliga namnet.</p>
<p>E-planta är en ekonomisk förening som bildats av ett antal plantskolor. E-plantsystemet omfattar produktutveckling, testning och marknadsföring av växter som är utvalda för svenskt klimat. Stiftelsen Trädgårdsodlingens Elitplantstation (EPS) äger varumärket E-planta och en expertgrupp där väljer ut de växter som E-märks. Gruppen har bred kompetens med representanter för forskning, plantskolor samt växtanvändare i både offentlig verksamhet och inom fritidsodlingen.</p>
<p>“E-planta” är en kvalitetsbeteckning på träd och buskar som hjälper växtanvändaren att välja ett säkert växtmaterial för svenskt klimat. Beteckningen finns även på fruktträd och bärbuskar som är testat fria från skadliga virus. <!-- E-et står för Elitplanta. --></p>
<p>Växterna måste uppfylla höga krav på odlingsvärde, sort- och artäkthet samt sundhet innan de får kallas E-planta. Detta får man fram genom flera års provodling på olika platser i Sverige. Det ger pålitlig information om hur härdig en växt är och vilka prydnadsvärden den har. Flera av de E-märkta växterna har tagits fram genom olika projekt vid SLU, Sveriges lantbruksuniversitet.</p>
<p>Fördelar med E-plantor:</p>
<ul>
<li><p>Utvalda för svenskt klimat. Producerade i Sverige och därmed anpassade till svenskt klimat och takt med vår växtsäsong. Det minskar risken för vinterskador eftersom växterna inte slår ut för tidigt om våren och de invintrar i tid om hösten. Ger pålitliga zonangivelser.</p></li>
<li><p>Provodlade på flera platser i landet vilket ger säkrare zonangivelser och korrekta växtbeskrivningar.</p></li>
<li><p>Svenskproducerade. Kort väg från producent till konsument gör att växterna är i takt med vårt klimat.</p></li>
<li><p>Art- resp. sortäkta Alla. E-plantor är art- respektive sortäkta vilket ger korrekta växtbeskrivningar och ett enhetligt växtmaterial. Ett dokumenterat och genetiskt väl definierat växtmaterial ger växter med sort- eller arttypiskt utseende.</p></li>
<li><p>Friskt utgångsmaterial ger bättre motståndskraft mot sjukdomar/skadegörare. Detta leder till mindre bekämpningsbehov.</p></li>
</ul>
</section>
<section id="the-bbch-scale-is-used-to-identify-the-phenological-development-stages-of-plants" class="level2">
<h2 class="anchored" data-anchor-id="the-bbch-scale-is-used-to-identify-the-phenological-development-stages-of-plants">The BBCH-scale is used to identify the phenological development stages of plants</h2>
<p>Principal growth stages:</p>
<pre><code>0: Germination, sprouting, bud development
1: Leaf development
2: Formation of side shoots, tillering
3: Stem elongation or rosette growth, shoot development
4: Development of harvestable vegetative plant parts, bolting
5: Inflorescence emergence, heading
6: Flowering
7: Development of fruit
8: Ripening or maturity of fruit and seed
9: Senescence, beginning of dormancy</code></pre>
<p>The “BBCH-scale (stone)” identifies the phenological development stages of stone fruit (cherry = Prunus cerasus, plum = Prunus domestica ssp. domestica, peach = Prunus persica, apricot = Prunus armeniaca).</p>
<!-- See datafile "bbch_scale_stone_fruit.csv" -->
<!-- Phenological growth stages and BBCH-identification keys of stone fruit. The BBCH-scale (stone) identifies the phenological development stages of stone fruit (cherry = Prunus cerasus, plum = Prunus domestica ssp. domestica, peach = Prunus persica, apricot = Prunus armeniaca). It is a plant species specific version of the BBCH-scale. 2 -->
<p>BBCH-scale (stone), faser som kan vara av särskilt intresse att obsevera:</p>
<p>Principal growth stage 5: Inflorescence emergence</p>
<p>51 Inflorescence buds swelling: buds closed, light brown scales visible 53 Bud burst: scales separated, light green bud sections visible 54 Inflorescence enclosed by light green scales, if such scales are formed (not all cultivars) 55 Single flower buds visible (still closed) borne on short stalks, green scales slightly open 56 Flower pedicel elongating; sepals closed; single flowers separating 57 Sepals open: petal tips visible; single flowers with white or pink petals (still closed) 59 Most flowers with petals forming a hollow ball</p>
<p>Principal growth stage 6: Flowering</p>
<p>60 First flowers open 61 Beginning of flowering: about 10% of flowers open 62 About 20% of flowers open 63 About 30% of flowers open 64 About 40% of flowers open 65 Full flowering: at least 50% of flowers open, first petals falling 67 Flowers fading: majority of petals fallen 69 End of flowering: all petals fallen</p>
<p>Principal growth stage 7: Development of fruit</p>
<p>71 Ovary growing; fruit fall after flowering 72 Green ovary surrounded by dying sepal crown, sepals beginning to fall 73 Second fruit fall 75 Fruit about half final size 76 Fruit about 60% of final size 77 Fruit about 70% of final size 78 Fruit about 80% of final size 79 Fruit about 90% of final size</p>
<p>Principal growth stage 8: Maturity of fruit and seed</p>
<p>81 Beginning of fruit colouring 85 Colouring advanced 87 Fruit ripe for picking 89 Fruit ripe for consumption: fruit have typical taste and firmness</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>